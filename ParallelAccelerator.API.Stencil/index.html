<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ParallelAccelerator.API.Stencil - ParallelAccelerator.jl API</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../site/css/base.css" rel="stylesheet">
  <link href="../site/css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="../site/css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="../site/css/highlight.css" rel="stylesheet">
  <link href="../site/site/css/base.css" rel="stylesheet">
  <link href="../site/site/css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="../site/site/css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="../site/site/css/highlight.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "ParallelAccelerator.API.Stencil";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 
  <script src="../site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="../site/mkdocs/js/mustache.min.js"></script>
  <script src="../site/mkdocs/js/require.js"></script>
  <script src="../site/mkdocs/js/search.js"></script>
  <script src="../site/mkdocs/js/text.js"></script>
  <script src="../site/js/base.js"></script>
  <script src="../site/js/bootstrap-3.0.3.min.js"></script>
  <script src="../site/js/highlight.pack.js"></script>
  <script src="../site/js/jquery-1.10.2.min.js"></script>
  <script src="../site/site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="../site/site/mkdocs/js/mustache.min.js"></script>
  <script src="../site/site/mkdocs/js/require.js"></script>
  <script src="../site/site/mkdocs/js/search.js"></script>
  <script src="../site/site/mkdocs/js/text.js"></script>
  <script src="../site/site/js/base.js"></script>
  <script src="../site/site/js/bootstrap-3.0.3.min.js"></script>
  <script src="../site/site/js/highlight.pack.js"></script>
  <script src="../site/site/js/jquery-1.10.2.min.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../CompilerTools.AliasAnalysis/" class="icon icon-home"> ParallelAccelerator.jl API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.AliasAnalysis/">CompilerTools.AliasAnalysis</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.AstWalker/">CompilerTools.AstWalker</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.CFGs/">CompilerTools.CFGs</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.DebugMsg/">CompilerTools.DebugMsg</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.LambdaHandling/">CompilerTools.LambdaHandling</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.LivenessAnalysis/">CompilerTools.LivenessAnalysis</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.Loops/">CompilerTools.Loops</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.OptFramework/">CompilerTools.OptFramework</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.ReadWriteSet/">CompilerTools.ReadWriteSet</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools.UDChains/">CompilerTools.UDChains</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../CompilerTools/">CompilerTools</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../DomainIR/">DomainIR</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.API.Capture/">ParallelAccelerator.API.Capture</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">ParallelAccelerator.API.Stencil</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#parallelacceleratorapistencil">ParallelAccelerator.API.Stencil</a></li>
                
                    <li><a class="toctree-l4" href="#exported">Exported</a></li>
                
                    <li><a class="toctree-l4" href="#internal">Internal</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.API/">ParallelAccelerator.API</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.CGen/">ParallelAccelerator.CGen</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.CallGraph/">ParallelAccelerator.CallGraph</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.Comprehension/">ParallelAccelerator.Comprehension</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.DistributedIR/">ParallelAccelerator.DistributedIR</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.DomainIR/">ParallelAccelerator.DomainIR</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.Driver/">ParallelAccelerator.Driver</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.J2CArray/">ParallelAccelerator.J2CArray</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator.ParallelIR/">ParallelAccelerator.ParallelIR</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelAccelerator/">ParallelAccelerator</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../ParallelIR/">ParallelIR</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../api-index/">Api index</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../CompilerTools.AliasAnalysis/">ParallelAccelerator.jl API</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../CompilerTools.AliasAnalysis/">Docs</a> &raquo;</li>
    
      
    
    <li>ParallelAccelerator.API.Stencil</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/IntelLabs/ParallelAccelerator.jl" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="parallelacceleratorapistencil">ParallelAccelerator.API.Stencil</h1>
<h2 id="exported">Exported</h2>
<hr />
<p><a id="method__runstencil.1" class="lexicon_definition"></a></p>
<h4 id="runstencilinputs">runStencil(inputs...) <a href="#method__runstencil.1">¶</a></h4>
<p>"runStencil" takes arguments in the form of "(kernel_function, A, B, C, ...,
iteration, border_style)" where "kernel_function" is a lambda that represent
stencil kernel, and "A", "B", "C", ... are arrays (of same dimension and size)
that will be traversed by the stencil, and they must match the number of
arguments of the stencil kernel. "iteration" and "border_style" are optional,
and if present, "iteration" is the number of steps to repeat the stencil
computation, and "border_style" is a symbol of the following:</p>
<pre><code>:oob_src_zero, returns zero from a read when it is out-of-bound.

:oob_dst_zero, writes zero to destination array in an assigment should any read in its right-hand-side become out-of-bound.

:oob_wraparound, wraps around the index (with respect to source array dimension and sizes) of a read operation when it is out-of-bound.

:oob_skip, skips write to destination array in an assignment should any read in its right-hand-side become out-of-bound.
</code></pre>
<p>The "kernel_function" should take a set of arrays as input, and in the function
body only index them with relative indices as if there is a cursor (at index 0)
traversing them. It may contain more than one assignment to any input arrays,
but such writes must always be indexed at 0 to guarantee write operation never
goes out-of-bound. Also care must be taken when the same array is both read
from and written into in the kernel function, as they'll result in
non-deterministic behavior when the stencil is parallelized by ParallelAccelerator. </p>
<p>The "kernel_function" may optionally access scalar variables from outerscope,
but no write is permitted.  It may optinally contain a return statement, which
acts as a specification for buffer swapping when it is an interative stencil
loop (ISL). The number of arrays returned must match the input arrays.  If it
is not an ISL, it should always return nothing.</p>
<p>This function is a reference implementation of stencil in native Julia for two
purposes: to verify expected return result, and to make sure user code type
checks. It runs very very slow, so any real usage should go through ParallelAccelerator
optimizations.</p>
<p>"runStencil" always returns nothing.</p>
<p><em>source:</em>
<a href="file:///home/etotoni/.julia/v0.4/ParallelAccelerator/src/api-stencil.jl">ParallelAccelerator/src/api-stencil.jl:142</a></p>
<h2 id="internal">Internal</h2>
<hr />
<p><a id="method__process_node.1" class="lexicon_definition"></a></p>
<h4 id="process_nodenode-state-top_level_number-is_top_level-read">process_node(node,  state,  top_level_number,  is_top_level,  read) <a href="#method__process_node.1">¶</a></h4>
<p>This function is a AstWalker callback.</p>
<p><em>source:</em>
<a href="file:///home/etotoni/.julia/v0.4/ParallelAccelerator/src/api-stencil.jl">ParallelAccelerator/src/api-stencil.jl:377</a></p>
<hr />
<p><a id="macro___comprehend.1" class="lexicon_definition"></a></p>
<h4 id="comprehendast">@comprehend(ast) <a href="#macro___comprehend.1">¶</a></h4>
<p>Translate all comprehension in an AST into equivalent code that uses cartesianarray call.</p>
<p><em>source:</em>
<a href="file:///home/etotoni/.julia/v0.4/ParallelAccelerator/src/api-stencil.jl">ParallelAccelerator/src/api-stencil.jl:392</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ParallelAccelerator.API/" class="btn btn-neutral float-right" title="ParallelAccelerator.API"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../ParallelAccelerator.API.Capture/" class="btn btn-neutral" title="ParallelAccelerator.API.Capture"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../ParallelAccelerator.API.Capture/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ParallelAccelerator.API/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
